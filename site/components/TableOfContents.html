<nav
  x-label="parent"
  x-state="{ closest: {}, headings: Array.from(document.querySelectorAll('main h2, h3')) }"
  x-closest="{ state: { closest: document.querySelectorAll('main h2, h3') } }"
>
  <ul x-each="state.headings">
    <li x-template>
      <a
        x-attr
        x="state.value.textContent"
        @href="state.value.parentElement?.attributes.href?.value"
        _@class="{
          'utility': 'concat',
          'parameters': [
            '[state.value.textContent === parent.closest.textContent && \'',
            { 'utility': 'tw', 'parameters': ['underline'] },
            '\', state.tagName === 'H3' && \'',
            { 'utility': 'tw', 'parameters': ['ml-2'] },
            \']'
          ]
        }"
      ></a>
    </li>
  </ul>
</nav>
