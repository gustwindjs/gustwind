{
  "element": "aside",
  "class": "fixed top-16 left-2 max-w-sm max-h-full overflow-auto rounded filter drop-shadow",
  "children": [
    {
      "element": "header",
      "class": "cursor-move",
      "children": [
        {
          "element": "h2",
          "class": "p-4 font-bold bg-gray-800 text-white",
          "children": "Page editor"
        }
      ]
    },
    {
      "element": "section",
      "class": "p-4 gap-4 flex flex-col bg-white filter bg-opacity-90",
      "children": [
        {
          "element": "div",
          "children": [
            {
              "element": "h2",
              "class": "font-bold",
              "children": "Meta"
            },
            {
              "element": "DynamicList",
              "class": "flex flex-col gap-2",
              "props": {
                "dataSource": "Object.entries(editor.meta)",
                "oninput": "metaChanged(this, this.value)"
              }
            }
          ]
        },
        {
          "visibleIf": "false",
          "todo": "The data source portion has been disabled for now",
          "element": "div",
          "children": [
            {
              "element": "h2",
              "class": "font-bold",
              "children": "Data sources"
            },
            {
              "element": "div",
              "attributes": {
                "x-each": "editor.dataSources"
              },
              "children": [
                {
                  "element": "DynamicList",
                  "props": {
                    "dataSource": "state.value ? Object.entries(state.value) : []"
                  }
                }
              ]
            }
          ]
        },
        {
          "element": "div",
          "children": [
            {
              "element": "h2",
              "class": "font-bold mb-2",
              "children": "Layout"
            },
            {
              "element": "ul",
              "attributes": {
                "x-each": "Array.isArray(editor.layout) ? editor.layout : [editor.layout]"
              },
              "children": [
                {
                  "element": "li",
                  "class": "my-2",
                  "attributes": {
                    "x-template": "",
                    "x-attr": "",
                    "onclick": "elementClicked(this, this.state.value._id)",
                    "@class": "state.level > 0 && 'ml-2'"
                  },
                  "children": [
                    {
                      "element": "div",
                      "attributes": {
                        "x-attr": "",
                        "@class": "['border-l', 'border-gray-800', 'py-2', 'pl-2', state.value._id === selected.componentId && 'font-bold']"
                      },
                      "children": [
                        {
                          "element": "label",
                          "attributes": {
                            "x": "state.value.element + ((typeof state.value.children === 'string') ? ' : ' + state.value.children : '')"
                          }
                        },
                        {
                          "element": "div",
                          "class": "ml-2",
                          "children": [
                            {
                              "element": "label",
                              "children": "Props"
                            },
                            {
                              "element": "ul",
                              "attributes": {
                                "x-each": "state.value.props ? Object.entries(state.value.props) : []"
                              },
                              "children": [
                                {
                                  "element": "li",
                                  "attributes": {
                                    "x-template": ""
                                  },
                                  "children": [
                                    {
                                      "element": "span",
                                      "attributes": {
                                        "x": "state.value[0]"
                                      }
                                    },
                                    {
                                      "element": "ul",
                                      "attributes": {
                                        "todo": "make recursion point two levels up in the render tree",
                                        "x-recurse": "state.value[1]"
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
